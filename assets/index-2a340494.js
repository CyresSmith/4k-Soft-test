import{l as x,h as w,r as b,j as e}from"./index-3e67b549.js";import{c as g,a as s,p as j,b as R,n as m,d as y,e as n,P as c,f as P}from"./notiflix-aio-3.2.6.min-c526fbc5.js";import{I as q}from"./index.esm-e75c4934.js";import{F as N}from"./FormBox.styled-5c25b23c.js";import{C as E}from"./Container-4a444224.js";import{S as F,T as M}from"./Title-369f8987.js";const S=g().shape({fullName:s().min(3,"Must be at least 3 characters").max(20,"Must be max 20 characters").required("Required"),email:s().email("Must be valid email").required("Required"),password:s().min(8,"Must be at least 8 characters").max(16,"Must be max 16 characters").matches(j,"Must be at least one capital letter and one number").required("Required"),confirmPassword:s().oneOf([R("password"),null],"Passwords must match!").required("Required")}),O={fullName:"",email:"",password:"",confirmPassword:""},v=()=>{const[d,{isLoading:r,isSuccess:t,isError:i,error:o}]=x(),l=w(),u=async a=>{await d(a)};return b.useEffect(()=>{t&&(l("/"),m.Notify.success("Registration was success! Verification email sent on your email. Please confirm!",{showOnlyTheLastOne:!0,position:"right-top"})),i&&m.Notify.failure(o.data.message,{showOnlyTheLastOne:!0,position:"right-top"})},[o,i,t,l]),e.jsx(y,{initialValues:O,validationSchema:S,onSubmit:(a,{resetForm:L})=>{const{fullName:p,email:f,password:h}=a;u({fullName:p.trim(),email:f.trim(),password:h.trim()})},children:e.jsxs(N,{children:[e.jsx(n,{type:"text",id:"fullName",label:"Full name",placeholder:"First & Last name"}),e.jsx(n,{type:"email",id:"email",label:"Email",placeholder:"example@email.com"}),e.jsx(c,{id:"password",label:"Password",placeholder:"********"}),e.jsx(c,{id:"confirmPassword",label:"Confirm password",placeholder:"********"}),e.jsx(P,{icon:q,disabled:r,isLoading:r,type:"submit",children:"Register"})]})})},I=()=>e.jsx(E,{children:e.jsxs(F,{children:[e.jsx(M,{children:"Pleas enter your registration details"}),e.jsx(v,{})]})}),k=I;export{k as default};
