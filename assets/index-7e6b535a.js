import{f,b as g,h as b,r as w,j as s,i as j,k as L}from"./index-f6acedc5.js";import{c as y,a as m,p as E,n as d,d as S,k as T}from"./PasswordInput.styled-d0b07016.js";import{a as k}from"./index.esm-dbb3d6be.js";import{F,I as M,P as R}from"./FormBox.styled-d2fb476e.js";import{C as q}from"./Container-87462ede.js";import{S as v,T as O}from"./Title-582dd783.js";const P=y().shape({email:m().email("Must be valid email").required("Required"),password:m().min(8,"Must be at least 8 characters").max(16,"Must be max 16 characters").matches(E,"Must be at least one capital letter and one number").required("Required")}),A={email:"",password:""},B=()=>{const[u,{isLoading:o,isSuccess:r,isError:n,error:l}]=f(),p=g(),h=async e=>{const t=await u(e),{user:i,accessToken:a,refreshToken:x}=t.data;p(j({user:i,accessToken:a,refreshToken:x})),L(a)},c=b();return w.useEffect(()=>{r&&(c("/"),d.Notify.success("Login was success!",{showOnlyTheLastOne:!0,position:"right-top"})),n&&d.Notify.failure(l.data.message,{showOnlyTheLastOne:!0,position:"right-top"})},[l,n,r,c]),s.jsx(S,{initialValues:A,validationSchema:P,onSubmit:(e,{resetForm:t})=>{const{email:i,password:a}=e;h({email:i.trim(),password:a.trim()}),t()},children:s.jsxs(F,{children:[s.jsx(M,{type:"email",id:"email",label:"Email",placeholder:"example@email.com"}),s.jsx(R,{id:"password",label:"Password",placeholder:"********"}),s.jsx(T,{icon:k,isLoading:o,disabled:o,type:"submit",children:"Login"})]})})},I=()=>s.jsx(q,{children:s.jsxs(v,{children:[s.jsx(O,{children:"Pleas enter your login details"}),s.jsx(B,{})]})}),H=I;export{H as default};
