import{f as x,b as f,h as g,r as b,j as s,i as j,k as w}from"./index-3e67b549.js";import{c as L,a as m,p as E,n as S,d as y,e as F,P as M,f as R}from"./notiflix-aio-3.2.6.min-c526fbc5.js";import{a as T}from"./index.esm-efd1fd7a.js";import{F as k}from"./FormBox.styled-5c25b23c.js";import{C as q}from"./Container-4a444224.js";import{S as v,T as P}from"./Title-369f8987.js";const A=L().shape({email:m().email("Must be valid email").required("Required"),password:m().min(8,"Must be at least 8 characters").max(16,"Must be max 16 characters").matches(E,"Must be at least one capital letter and one number").required("Required")}),B={email:"",password:""},_=()=>{const[d,{isLoading:o,isSuccess:r,isError:n,error:c}]=x(),u=f(),p=async e=>{const i=await d(e),{user:t,accessToken:a,refreshToken:h}=i.data;u(j({user:t,accessToken:a,refreshToken:h})),w(a)},l=g();return b.useEffect(()=>{r&&(l("/"),S.Notify.success("Login was success!",{showOnlyTheLastOne:!0,position:"right-top"})),n&&console.error(c)},[c,n,r,l]),s.jsx(y,{initialValues:B,validationSchema:A,onSubmit:(e,{resetForm:i})=>{const{email:t,password:a}=e;p({email:t.trim(),password:a.trim()}),i()},children:s.jsxs(k,{children:[s.jsx(F,{type:"email",id:"email",label:"Email",placeholder:"example@email.com"}),s.jsx(M,{id:"password",label:"Password",placeholder:"********"}),s.jsx(R,{icon:T,isLoading:o,disabled:o,type:"submit",children:"Login"})]})})},$=()=>s.jsx(q,{children:s.jsxs(v,{children:[s.jsx(P,{children:"Pleas enter your login details"}),s.jsx(_,{})]})}),H=$;export{H as default};
